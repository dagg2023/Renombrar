<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane fitToWidth="true" prefWidth="1000" prefHeight="800"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.surveycolombia.renombrar.RenamerController"
            style="-fx-background: #f8f9fa;">

    <!-- CONTENIDO PRINCIPAL -->
    <VBox spacing="12" alignment="TOP_CENTER">

        <padding>
            <Insets top="20" bottom="20" left="40" right="40"/>
        </padding>

        <!-- ================= HEADER ================= -->
        <VBox spacing="4" alignment="TOP_CENTER">
            <Label text="RENOMBRADOR DE ARCHIVOS"
                   style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

            <Label text="Organizador y renombrador masivo de archivos"
                   style="-fx-font-size: 13px; -fx-text-fill: #7f8c8d;"/>

            <Label text="[ D A G G ]"
                   style="-fx-font-family: 'Consolas', monospace;
                          -fx-font-size: 11px;
                          -fx-text-fill: #95a5a6;
                          -fx-padding: 3 0 0 0;"/>
        </VBox>

        <!-- ================= CARPETA RAÃZ ================= -->
        <TitledPane text="ðŸ“ CARPETA DE TRABAJO" expanded="true" prefWidth="900">
            <content>
                <VBox spacing="8" style="-fx-padding: 15;">
                    <Label text="Selecciona la carpeta donde se encuentran los archivos:"
                           style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>

                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Label fx:id="buscarCarpeta"
                               text="No se ha seleccionado carpeta"
                               style="-fx-border-color: #bdc3c7;
                                      -fx-border-radius: 4;
                                      -fx-background-color: white;
                                      -fx-padding: 6 12;
                                      -fx-background-radius: 4;
                                      -fx-font-family: 'Segoe UI', sans-serif;
                                      -fx-font-size: 13px;
                                      -fx-min-height: 32;
                                      -fx-pref-width: 600;"/>

                        <Button text="EXAMINAR"
                                onAction="#buscarCarpetaRaizClick"
                                style="-fx-font-weight: bold;
                                       -fx-font-size: 13px;
                                       -fx-padding: 6 20;
                                       -fx-min-height: 32;
                                       -fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);
                                       -fx-border-color: #ced4da;
                                       -fx-border-width: 1;
                                       -fx-border-radius: 4;
                                       -fx-background-radius: 4;
                                       -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 3, 0.2, 0, 1);"/>
                    </HBox>

                    <Separator style="-fx-padding: 10 0 8 0;"/>

                    <HBox spacing="20" alignment="CENTER_LEFT">
                        <CheckBox fx:id="chkRenombrarCarpetas"
                                  text="Renombrar carpetas"
                                  selected="true"
                                  style="-fx-font-weight: bold; -fx-font-size: 13px;"/>

                        <CheckBox fx:id="chkRenombrarArchivos"
                                  text="Renombrar archivos"
                                  style="-fx-font-weight: bold; -fx-font-size: 13px;"/>
                    </HBox>
                </VBox>
            </content>
        </TitledPane>

        <!-- ================= ESTRUCTURA DE CARPETAS ================= -->
        <TitledPane text="ðŸŒ³ ESTRUCTURA DE CARPETAS" prefWidth="900">
            <content>
                <VBox spacing="12" style="-fx-padding: 15;">
                    <CheckBox fx:id="chkUsarEstructura"
                              text="Crear estructura de carpetas"
                              selected="true"
                              style="-fx-font-weight: bold; -fx-font-size: 13px;"/>

                    <VBox spacing="8" style="-fx-padding: 0 0 0 15;">
                        <HBox spacing="12" alignment="CENTER_LEFT">
                            <RadioButton fx:id="rbEstructuraDefault"
                                         text="Estructura por defecto"
                                         selected="true"
                                         style="-fx-font-size: 13px;"/>

                            <Region HBox.hgrow="ALWAYS"/>

                            <RadioButton fx:id="rbEstructuraCustom"
                                         text="Estructura personalizada"
                                         style="-fx-font-size: 13px;"/>
                        </HBox>

                        <VBox fx:id="jsonSection" spacing="8" visible="false" managed="false">
                            <HBox spacing="12" alignment="CENTER_LEFT">
                                <Label fx:id="lblJsonEstructura"
                                       text="No se ha seleccionado archivo JSON"
                                       style="-fx-border-color: #bdc3c7;
                                              -fx-border-radius: 4;
                                              -fx-background-color: white;
                                              -fx-padding: 6 12;
                                              -fx-background-radius: 4;
                                              -fx-min-height: 32;
                                              -fx-font-size: 13px;
                                              -fx-pref-width: 500;"/>

                                <Button fx:id="btnCargarJson"
                                        text="EXAMINAR"
                                        onAction="#cargarEstructuraJsonClick"
                                        disable="true"
                                        style="-fx-font-weight: bold;
                                               -fx-font-size: 13px;
                                               -fx-padding: 6 20;
                                               -fx-min-height: 32;
                                               -fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);
                                               -fx-border-color: #ced4da;
                                               -fx-border-width: 1;
                                               -fx-border-radius: 4;
                                               -fx-background-radius: 4;
                                               -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 3, 0.2, 0, 1);"/>
                            </HBox>
                        </VBox>
                    </VBox>

                    <Button fx:id="btnCrearEstructura"
                            text="CREAR ESTRUCTURA"
                            onAction="#crearEstructuraClick"
                            style="-fx-font-weight: bold;
                                   -fx-font-size: 13px;
                                   -fx-padding: 8 25;
                                   -fx-min-height: 36;
                                   -fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);
                                   -fx-border-color: #ced4da;
                                   -fx-border-width: 1;
                                   -fx-border-radius: 4;
                                   -fx-background-radius: 4;
                                   -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 4, 0.3, 0, 2);"/>
                </VBox>
            </content>
        </TitledPane>

        <!-- ================= ARCHIVO CSV ================= -->
        <TitledPane text="ðŸ“Š ARCHIVO CSV" prefWidth="900">
            <content>
                <!-- Â¡ESTE ES EL VBox csvSection QUE EL CONTROLADOR ESPERA! -->
                <VBox fx:id="csvSection" spacing="12" style="-fx-padding: 15;">
                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Button fx:id="btnGenerarCSV"
                                text="GENERAR CSV"
                                onAction="#generarCSVConSubcarpetasClick"
                                disable="true"
                                style="-fx-font-weight: bold;
                                       -fx-font-size: 13px;
                                       -fx-padding: 6 20;
                                       -fx-min-height: 32;
                                       -fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);
                                       -fx-border-color: #ced4da;
                                       -fx-border-width: 1;
                                       -fx-border-radius: 4;
                                       -fx-background-radius: 4;
                                       -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 3, 0.2, 0, 1);"/>

                        <Region HBox.hgrow="ALWAYS"/>

                        <Label text="O bien, carga un CSV existente:"
                               style="-fx-text-fill: #7f8c8d; -fx-font-size: 13px;"/>
                    </HBox>

                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Label fx:id="cargarCSV"
                               text="No se ha cargado archivo CSV"
                               style="-fx-border-color: #bdc3c7;
                                      -fx-border-radius: 4;
                                      -fx-background-color: white;
                                      -fx-padding: 6 12;
                                      -fx-background-radius: 4;
                                      -fx-min-height: 32;
                                      -fx-font-size: 13px;
                                      -fx-pref-width: 500;"/>

                        <Button fx:id="btnCargarCSV"
                                text="EXAMINAR"
                                onAction="#cargarArchivoCSVClick"
                                disable="true"
                                style="-fx-font-weight: bold;
                                       -fx-font-size: 13px;
                                       -fx-padding: 6 20;
                                       -fx-min-height: 32;
                                       -fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);
                                       -fx-border-color: #ced4da;
                                       -fx-border-width: 1;
                                       -fx-border-radius: 4;
                                       -fx-background-radius: 4;
                                       -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 3, 0.2, 0, 1);"/>
                    </HBox>

                    <Separator style="-fx-padding: 10 0 8 0;"/>

                    <Label text="ConfiguraciÃ³n de columnas:"
                           style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>

                    <GridPane hgap="15" vgap="8">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="50" halignment="RIGHT"/>
                            <ColumnConstraints percentWidth="50"/>
                        </columnConstraints>

                        <rowConstraints>
                            <RowConstraints prefHeight="30"/>
                            <RowConstraints prefHeight="35"/>
                        </rowConstraints>

                        <Label text="Columna nombre actual:"
                               GridPane.rowIndex="0"
                               GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-font-size: 13px;"/>

                        <Label text="Columna nuevo nombre:"
                               GridPane.rowIndex="0"
                               GridPane.columnIndex="1"
                               style="-fx-font-weight: bold; -fx-font-size: 13px;"/>

                        <ChoiceBox fx:id="choiceColumnOldName"
                                   disable="true"
                                   GridPane.rowIndex="1"
                                   GridPane.columnIndex="0"
                                   style="-fx-pref-width: 350;
                                          -fx-background-color: white;
                                          -fx-border-color: #bdc3c7;
                                          -fx-border-radius: 4;
                                          -fx-font-size: 13px;
                                          -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 2, 0.2, 0, 1);"/>

                        <ChoiceBox fx:id="choiceColumnNewName"
                                   disable="true"
                                   GridPane.rowIndex="1"
                                   GridPane.columnIndex="1"
                                   style="-fx-pref-width: 350;
                                          -fx-background-color: white;
                                          -fx-border-color: #bdc3c7;
                                          -fx-border-radius: 4;
                                          -fx-font-size: 13px;
                                          -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 2, 0.2, 0, 1);"/>
                    </GridPane>
                </VBox>
            </content>
        </TitledPane>

        <!-- ================= BOTÃ“N EJECUTAR ================= -->
        <HBox spacing="15" alignment="CENTER_RIGHT" style="-fx-padding: 15 0 0 0;">
            <Region HBox.hgrow="ALWAYS"/>

            <Button fx:id="btnRenamer"
                    text="EJECUTAR RENOMBRADO"
                    onAction="#renombrarClic"
                    style="-fx-font-weight: bold;
                           -fx-font-size: 14px;
                           -fx-padding: 10 30;
                           -fx-min-height: 40;
                           -fx-background-color: linear-gradient(to bottom, #3498db, #2980b9);
                           -fx-text-fill: white;
                           -fx-border-color: #2980b9;
                           -fx-border-width: 1;
                           -fx-border-radius: 6;
                           -fx-background-radius: 6;
                           -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 6, 0.5, 0, 2);
                           -fx-cursor: hand;
                           -fx-font-family: 'Segoe UI', sans-serif;"/>
        </HBox>

    </VBox>
</ScrollPane>